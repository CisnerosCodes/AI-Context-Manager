<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Context Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>AI Context Manager</h1>
      <div class="header-buttons">
        <button id="addNewContext" class="btn primary" type="button">+ Add New</button>
        <button id="showSettings" class="btn secondary" type="button">Settings</button>
      </div>
    </header>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search contexts..." aria-label="Search contexts" />
      <select id="categoryFilter" aria-label="Filter by category">
        <option value="all">All Categories</option>
        <option value="personal">Personal</option>
        <option value="project">Project</option>
        <option value="preferences">Preferences</option>
      </select>
    </div>
    <div id="contextsList" class="contexts-list" aria-live="polite"></div>

    <div id="contextForm" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="formTitle">
      <div class="modal-content">
        <h2 id="formTitle">Add New Context</h2>
        <input type="hidden" id="contextId" />
        <div class="form-group">
          <label for="contextTitle">Title</label>
            <input type="text" id="contextTitle" required />
        </div>
        <div class="form-group">
          <label for="contextCategory">Category</label>
          <select id="contextCategory">
            <option value="personal">Personal</option>
            <option value="project">Project</option>
            <option value="preferences">Preferences</option>
          </select>
        </div>
        <div class="form-group">
          <label for="contextContent">Content</label>
          <textarea id="contextContent" rows="8" required></textarea>
        </div>
        <div class="form-buttons">
          <button id="cancelForm" class="btn secondary" type="button">Cancel</button>
          <button id="saveContext" class="btn primary" type="button">Save</button>
        </div>
      </div>
    </div>

    <div id="settingsPanel" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <div class="modal-content">
        <h2 id="settingsTitle">Settings</h2>
        <div class="form-group">
          <label>Import / Export</label>
          <div class="settings-buttons">
            <button id="exportContexts" class="btn secondary" type="button">Export Contexts</button>
            <button id="importContexts" class="btn secondary" type="button">Import Contexts</button>
          </div>
        </div>
        <input type="file" id="importFile" class="hidden" accept="application/json" />
        <div class="form-buttons">
          <button id="closeSettings" class="btn primary" type="button">Close</button>
        </div>
      </div>
    </div>

    <div id="overlay" class="overlay hidden"></div>
  </div>
  <script src="popup.js"></script>
</body>
</html>